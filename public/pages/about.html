<!DOCTYPE html>
<html lang="en">
<head>
  <!-- åŸºæœ¬è¨­å®š -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>About Galaxyz</title>

  <!-- å¤–éƒ¨CSS -->
  <link rel="stylesheet" href="../styles/main.css">
  <link rel="stylesheet" href="../styles/about.css">

 <!-- ðŸ“¦ è¼‰å…¥ Firebaseã€èªžè¨€æ¨¡çµ„èˆ‡å…±ç”¨ header å…ƒä»¶ -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>
  <script type="module" src="../js/i18n.js"></script>
  <script type="module" src="../js/components/app-header.js"></script>
</head>

<body>
  <!-- ðŸ”½ Header å€å¡Šï¼šç”± app-header.js è‡ªå‹•è¼‰å…¥ -->
  <div id="appHeader"></div>

  <main class="about-page">

    <!-- ðŸª Hero å€å¡Š -->
    <section class="about-hero fade-in">
      <h1 data-i18n="aboutPage.heroTitle"></h1>
      <p data-i18n="aboutPage.heroSubtitle"></p>
      <a href="/pages/login.html" class="btn btn-primary" data-i18n="aboutPage.heroButton"></a>
    </section>

    <!-- ðŸŒŸ ç‚ºä»€éº¼æœƒæœ‰ Galaxyzï¼Ÿ -->
    <section class="why-galaxyz card fade-in">
      <h2 data-i18n="aboutPage.whyGalaxyTitle"></h2>
      <div class="paragraph" data-i18n="aboutPage.whyGalaxyContent"></div>
    </section>

    <!-- ðŸ‘¥ èª°æ˜¯ GIVERï¼Ÿ -->
    <section class="who-is-giver card fade-in">
      <h2 data-i18n="aboutPage.whoIsGiverTitle"></h2>
      <div class="paragraph" data-i18n="aboutPage.whoIsGiverContent"></div>
    </section>

    <!-- ðŸ”¤ GIVER çš„äº”å€‹ç²¾ç¥ž -->
    <section class="giver-spirit card fade-in">
      <h2 data-i18n="aboutPage.giverSpiritTitle"></h2>
      
      <!-- GIVER ç²¾ç¥žè¡¨æ ¼ï¼šç”± JS æ ¹æ“šèªžè¨€å‹•æ…‹æ’å…¥ -->
      <div class="giver-spirit-table"></div>
      
      <div class="giver-spirit-footer" data-i18n="aboutPage.giverSpiritFooter"></div>
    </section>

    <!-- âœ¨ Galaxyz æ˜¯æ€Žéº¼é‹ä½œçš„ï¼Ÿ -->
    <section class="how-it-works fade-in">
      <h2 data-i18n="aboutPage.howItWorksTitle"></h2>
      <div class="how-steps"></div>
    </section>

    <!-- ðŸŒŒ Galaxyz çš„åå­—ç”±ä¾† -->
    <section class="name-origin card fade-in">
      <div class="dual-column">
        <div class="column text-col">
          <h2 data-i18n="aboutPage.nameOriginTitle"></h2>
          <div class="paragraph" data-i18n="aboutPage.nameOriginContent"></div>
        </div>
        <div class="column image-col">
          <img class="fade-in" src="../img/galaxyz-network-star.png" alt="Galaxyz æ˜Ÿåœ–ç¤ºæ„åœ–" />
        </div>
      </div>
    </section>

    <!-- ðŸ§¡ å‰µè¾¦è€…æ‰‹è¨˜ -->
    <section class="founder-note fade-in">
      <h2 data-i18n="aboutPage.founderNoteTitle"></h2>
      <blockquote class="founder-quote" data-i18n="aboutPage.founderQuote"></blockquote>
      <div class="paragraph" data-i18n="aboutPage.founderNoteContent"></div>
    </section>

    <!-- ðŸ” çµå°¾ CTA -->
    <section class="final-cta fade-in">
      <blockquote data-i18n="aboutPage.finalCtaQuote"></blockquote>
      <a href="/pages/login.html" class="btn btn-primary" data-i18n="aboutPage.finalCtaButton"></a>
    </section>

  </main>

  <!-- è¼‰å…¥èªžè¨€èˆ‡å‹•æ…‹å…§å®¹ -->
  <script type="module">
    import { setLang, i18n } from '../js/i18n.js';
    
    // ðŸ“¤ å‹•æ…‹è¼‰å…¥ã€ŒHow it worksã€æ­¥é©Ÿå¡ç‰‡
    function renderHowItWorksSteps() {
      const lang = localStorage.getItem('lang') || 'en';
      const steps = (i18n[lang] && i18n[lang].aboutPage.howItWorksSteps) || [];
      const stepsContainer = document.querySelector('.how-steps');
      if (stepsContainer) {
        stepsContainer.innerHTML = steps.map((step, index) => `
          <div class="step-card">
            <div class="step-number">${index + 1}</div>
            <h3>${step.title}</h3>
            <p>${step.desc}</p>
          </div>
        `).join('');
      }
    }

    // ðŸ†• å‹•æ…‹è¼‰å…¥ GIVER ç²¾ç¥žæ™‚é–“è»¸
    function renderGiverSpiritTable() {
      const lang = localStorage.getItem('lang') || 'en';
      const spirits = (i18n[lang]?.aboutPage?.giverSpirits) || [];
      const tableContainer = document.querySelector('.giver-spirit-table');
      
      if (!tableContainer) return;
      
      // ä½¿ç”¨æ™‚é–“è»¸å¸ƒå±€
      tableContainer.innerHTML = `
        <div class="giver-timeline">
          ${spirits.map(spirit => `
            <div class="timeline-item">
              <div class="timeline-letter">${spirit.letter}</div>
              <div class="timeline-content">
                <div class="timeline-word">${spirit.word}</div>
                <div class="timeline-meaning">${spirit.meaning}</div>
              </div>
            </div>
          `).join('')}
        </div>
      `;
    }

    // ðŸ†• æ·»åŠ æ™‚é–“è»¸äº¤äº’æ•ˆæžœ
    function addTimelineInteractions() {
      const timelineItems = document.querySelectorAll('.timeline-item');
      
      timelineItems.forEach((item, index) => {
        item.addEventListener('mouseenter', () => {
          item.style.zIndex = '10';
        });
        
        item.addEventListener('mouseleave', () => {
          item.style.zIndex = '1';
        });
      });
    }
  
    // âœ¨ è§€å¯Ÿç•«é¢é€²å…¥æ™‚å•Ÿå‹•ç•«é¢æ·¡å…¥æ•ˆæžœ
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add("animate");
          observer.unobserve(entry.target);
        }
      });
    });
  
    // ðŸ”½ é é¢è¼‰å…¥å®Œæˆå¾Œï¼Œåˆå§‹åŒ–èªžè¨€èˆ‡å…§å®¹æ¸²æŸ“
    document.addEventListener('DOMContentLoaded', () => {
      const lang = localStorage.getItem('lang') || 'en';
      setLang(lang);
      renderHowItWorksSteps();
      renderGiverSpiritTable(); // ðŸ†• æ¸²æŸ“ GIVER ç²¾ç¥žæ™‚é–“è»¸
  
      // å»¶é²æ·»åŠ äº¤äº’æ•ˆæžœï¼Œç¢ºä¿ DOM å·²æ¸²æŸ“
      setTimeout(() => {
        addTimelineInteractions();
      }, 600);
  
      // âœ… å•Ÿç”¨å‹•ç•«è§€å¯Ÿå™¨
      document.querySelectorAll(".fade-in").forEach(el => {
        observer.observe(el);
      });
    });
  
    // ðŸ” ç•¶èªžè¨€åˆ‡æ›æ™‚ï¼Œé‡æ–°æ¸²æŸ“æ‰€æœ‰å‹•æ…‹å…§å®¹
    window.addEventListener('langChanged', () => {
      renderHowItWorksSteps();
      renderGiverSpiritTable(); // ðŸ†• é‡æ–°æ¸²æŸ“ GIVER ç²¾ç¥žæ™‚é–“è»¸
      
      // é‡æ–°æ·»åŠ äº¤äº’æ•ˆæžœ
      setTimeout(() => {
        addTimelineInteractions();
      }, 100);
    });
  </script>
  
  <div id="appFooter"></div>
  <script type="module" src="../js/components/app-footer.js"></script>
</body>
</html>